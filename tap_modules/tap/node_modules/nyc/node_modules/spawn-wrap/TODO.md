- Write a test for each possible scenario
- Don't use bash. Just write a Node program with a shebang to
  process.execPath, and use that instead.
- Write out the envs and args as a json file.
- Ensure that grandchild processes are also wrapped.  The
  `wrap-main.js` needs to wrap spawn, but without doing the
  file-writing setup.
- The shim script can do all the work that's being done by
  `wrap-main.js` now.  It just needs to know where the module lives.
- WINDOWS!
  - Write a `node.cmd` and `iojs.cmd` that call the appropriate
    executable.
  - Handle `cmd` as well as `sh` and `bash`.
